(this.webpackJsonpwatermarker=this.webpackJsonpwatermarker||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),c=a.n(i),o=(a(12),a(2)),l=a.n(o),s=a(3),u=a(1),h=(a(14),a(6)),m=function(e){var t,a,i=e.imageSrc,c=e.watermarkSrc,o=e.watermarkX,l=void 0===o?0:o,s=e.watermarkY,m=void 0===s?0:s,g=e.setWatermarkX,f=e.setWatermarkY,d=Object(h.a)(e,["imageSrc","watermarkSrc","watermarkX","watermarkY","setWatermarkX","setWatermarkY"]),v=Object(n.useRef)(null),w=Object(n.useState)(!1),p=Object(u.a)(w,2),b=p[0],E=p[1],k=Object(n.useState)(""),O=Object(u.a)(k,2),j=O[0],x=O[1],S=Object(n.useState)({width:0,height:0}),N=Object(u.a)(S,2),y=N[0],M=N[1],C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=v.current;if(r&&e){var i=r.getContext("2d");if(i){var c,o=new Image;if(o.src=e,o.onload=function(){var e;n?window.requestAnimationFrame((function(){i.clearRect(0,0,r.width,r.height),r.width=o.width,r.height=o.height})):y.width===o.width&&y.height===o.height||M({width:o.width,height:o.height}),window.requestAnimationFrame((function(){i.drawImage(o,t,a)})),x(String(null===(e=v.current)||void 0===e?void 0:e.toDataURL("image/png")))},o.complete)n?(i.clearRect(0,0,r.width,r.height),r.width=o.width,r.height=o.height):y.width===o.width&&y.height===o.height||M({width:o.width,height:o.height}),window.requestAnimationFrame((function(){i.drawImage(o,t,a)})),x(String(null===(c=v.current)||void 0===c?void 0:c.toDataURL("image/png")))}}};Object(n.useEffect)((function(){C(i,0,0,!0),C(c,l,m)}),[i,c,l,m]);var F=function(){b&&E(!1)};return r.a.createElement("div",{className:"text-center"},r.a.createElement("canvas",Object.assign({onMouseUp:F,onMouseOut:function(){F()},onMouseMove:function(e){if(b){var n=v.current;if(n){var r=e.nativeEvent.offsetX-n.clientLeft,i=e.nativeEvent.offsetY-n.clientTop;a=i,g(t=r),f(a)}}},onMouseDown:function(e){var n=v.current;if(n){t=e.nativeEvent.offsetX-n.clientLeft,a=e.nativeEvent.offsetY-n.clientTop;var r=function(e,t){var a=!1;return e>=l&&e<=l+y.width&&t>=m&&t<=m+y.height&&(a=!0),a}(t,a);b!==r&&E(r)}},className:"m-auto",ref:v},d)),r.a.createElement("div",{className:"overflow-hidden relative inline-block"},r.a.createElement("button",{className:"bg-indigo-400 hover:bg-indigo-500 text-white font-bold py-2 px-4 w-full inline-flex items-center"},r.a.createElement("svg",{className:"transform rotate-180",fill:"#FFF",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"})),r.a.createElement("span",{className:"ml-2"},"Download Image")),r.a.createElement("a",{className:"cursor-pointer absolute block opacity-0 top-0 left-0 bottom-0 right-0 w-full",download:"image.png",href:j})))},g=function(e){var t=e.onChange,a=e.text;return r.a.createElement("div",{className:"overflow-hidden relative"},r.a.createElement("button",{className:"bg-indigo-400 hover:bg-indigo-500 text-white font-bold py-2 px-4 w-full inline-flex items-center"},r.a.createElement("svg",{fill:"#FFF",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"})),r.a.createElement("span",{className:"ml-2"},a)),r.a.createElement("input",{className:"cursor-pointer absolute block opacity-0 top-0 left-0 bottom-0 right-0 w-full",type:"file",onChange:t}))},f=function(e){return r.a.createElement("input",Object.assign({},e,{className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"number"}))};var d=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(""),o=Object(u.a)(c,2),h=o[0],d=o[1],v=Object(n.useState)(0),w=Object(u.a)(v,2),p=w[0],b=w[1],E=Object(n.useState)(0),k=Object(u.a)(E,2),O=k[0],j=k[1];return r.a.createElement("div",{className:"text-center px-5"},r.a.createElement("div",{className:"grid gap-3 grid-cols-2"},r.a.createElement(g,{text:"Choose a main image:",onChange:function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(a=t.currentTarget.files)||void 0===a?void 0:a.length)&&i(URL.createObjectURL(t.currentTarget.files[0]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),r.a.createElement(g,{text:"Choose a watermark image:",onChange:function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(a=t.currentTarget.files)||void 0===a?void 0:a.length)&&d(URL.createObjectURL(t.currentTarget.files[0]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),r.a.createElement("label",null,"Watermark X position"),r.a.createElement(f,{value:p,onChange:function(e){return b(parseInt(e.currentTarget.value))}}),r.a.createElement("label",null,"Watermark Y position"),r.a.createElement(f,{value:O,onChange:function(e){return j(parseInt(e.currentTarget.value))}}),r.a.createElement(m,{setWatermarkX:b,setWatermarkY:j,watermarkX:p,watermarkY:O,imageSrc:a,watermarkSrc:h}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,null)),document.getElementById("root"))},7:function(e,t,a){e.exports=a(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.aeec4247.chunk.js.map